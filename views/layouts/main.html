<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="Glory Carriers Ministry Int'l is a  global ministry designed to bring men into the light of God's Glory, untill all eyes can see Christ revealed.">
        <meta name="keywords" content="glory carriers, embassy of glory, GCMI,">
        <meta name="author" content="gcmi">
        <meta property="og:title" content="{{pageTitle}}">
        <meta property="og:description" content="Glory Carriers Ministry Int'l is a  global ministry designed to bring men into the light of God's Glory, untill all eyes can see Christ revealed.">
        <meta property="og:image" content="https://glory-carriers.vercel.app/img/g_logo.png">
        <meta property="og:url" content="https://glory-carriers.vercel.app">

        <!--twitter social share-->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="{{pageTitle}}" id="twitterTitle">
        <meta name="twitter:description" content="Glory Carriers Ministry Int'l is a  global ministry designed to bring men into the light of God's Glory, untill all eyes can see Christ revealed." id="twitterDescription">
        <meta name="twitter:image" content="https://glory-carriers.vercel.app/img/g_logo.png" id="twitterImage">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>{{pageTitle}}</title>

        <link rel="icon" href="img/g_logo.png">
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600&amp;display=swap" rel="stylesheet"> 

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" integrity="sha512-siarrzI1u3pCqFG2LEzi87McrBmq6Tp7juVsdmGY1Dr8Saw+ZBAzDzrGwX3vgxX1NkioYNCFOVC0GpDPss10zQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/solid.min.css" integrity="sha512-Hp+WwK4QdKZk9/W0ViDvLunYjFrGJmNDt6sCflZNkjgvNq9mY+0tMbd6tWMiAlcf1OQyqL4gn2rYp7UsfssZPA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" integrity="sha512-W/zrbCncQnky/EzL+/AYwTtosvrM+YG/V6piQLSe2HuKS6cmbw89kjYkp3tWFn1dkWV7L1ruvJyKbLz73Vlgfg==" crossorigin="anonymous" referrerpolicy="no-referrer">


        <link href="css/style.css" rel="stylesheet">

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        
        <script>
            //global script
            let title, message, redirectTo, classType, btnType;

            function messageAlert(title, message, redirectTo, classType, btnType){
                let heading = document.querySelector('#successModalLabel')
                heading.innerHTML = title
                heading.classList.add(classType)
                document.querySelector('#modal-message').innerHTML = message;
                document.querySelector('#close-modal').classList.add(btnType);
              
                $("#successModal").modal('show');
                $('#successModal').on('hide.bs.modal', function (e) {
                  // This code will run when the modal is about to be hidden
              
                  // Check if redirectTo is defined
                  if(redirectTo){
                      window.location.href = redirectTo;
                  } else {
                      // Reload the page if there's no redirect
                      window.location.reload();
                  }
                });
            }
        
            const handleLogout = async () => {
                try {
                    await fetch('/auth/logout', {
                    method: 'POST',
                    credentials: 'include', // Ensures cookies are sent with the request
                });
            
                window.location.href = "/admin/login"; // Update the UI after logout
                } catch (err) {
                    console.error('Error logging out:', err);
                }
            };
            
            try{
                document.getElementById('logout-button').addEventListener('click', handleLogout);
            }catch{}
            
        </script>

    {{> style}}

    </head>
    <body>
         <!--============PRELOADER============
         <div id="preloader">
            <div class="container">
                <div class="ring"></div>
                <div class="ring"></div>
                <div class="ring"></div>
                <div class="loading">
                    <img width="80" src="img/g_logo.png" alt="GCMI G_logo">
                </div>
            </div>
        </div>
        ============PRELOADER END==============-->

        <!--============ROOT SECTION==============-->
        <section id="root" class=" position-relative overflow-x-hidden">
            <!--=========HEADER BEGIN===========-->
            <nav id="header" class="navbar navbar-expand-md navbar-dark  fixed-top mediumnavigation nav-down" aria-label="Fourth navbar example">
                {{> header}}
            </nav>
            <!--=========HEADER END===========-->
            
            <!--=========MAIN BEGIN===========-->
            {{{body}}}
            <!--=========MAIN END===========-->

            <!--=========FOOTER BEGIN===========-->
            {{> logout}}
            {{> notification/success}}
            <footer id="footer" class="pt-5 pb-0 m-0">
                {{> footer}}
            </footer>
            <!--=========FOOTER END===========-->
        </section>
        <!--============ROOT SECTION END==============-->

        <!--========JavaScript=========
        <script>
            window.addEventListener('load', ()=>{
              setInterval(()=>{
                //document.querySelector("#preloader").classList.add('hidden-item')
				document.querySelector("#root").classList.remove('show-hidden')
              }, 2000)
            })
        </script>======= -->

		<script type="module" src="js/app.js"></script>
		<!--<script type="module" src="js/validateAuthentication.js"></script>-->


        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.6/umd/popper.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
		<!--=====<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>======== -->		
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <!--========JavaScript END===-->
    </body>
</html>